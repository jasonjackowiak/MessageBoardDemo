var dd_domreadycheck,ddlevelsmenu;typeof dd_domreadycheck=="undefined"&&(dd_domreadycheck=!1);ddlevelsmenu={enableshim:!0,arrowpointers:{downarrow:["img/arrow-down.png",11,7],rightarrow:["img/arrow-right.png",12,12],showarrow:{toplevel:!1,sublevel:!0}},hideinterval:200,effects:{enableswipe:!0,enableslide:!0,enablefade:!0,duration:200},httpsiframesrc:"blank.htm",topmenuids:[],topitems:{},subuls:{},lastactivesubul:{},topitemsindex:-1,ulindex:-1,hidetimers:{},shimadded:!1,nonFF:!/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent),ismobile:navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i)!=null,getoffset:function(n,t){return n.offsetParent?n[t]+this.getoffset(n.offsetParent,t):n[t]},getoffsetof:function(n){n._offsets={left:this.getoffset(n,"offsetLeft"),top:this.getoffset(n,"offsetTop")}},getwindowsize:function(){this.docwidth=window.innerWidth?window.innerWidth-10:this.standardbody.clientWidth-10;this.docheight=window.innerHeight?window.innerHeight-15:this.standardbody.clientHeight-18},gettopitemsdimensions:function(){for(var r,i,n,u,t=0;t<this.topmenuids.length;t++)for(r=this.topmenuids[t],i=0;i<this.topitems[r].length;i++)n=this.topitems[r][i],u=document.getElementById(n.getAttribute("rel")),n._dimensions={w:n.offsetWidth,h:n.offsetHeight,submenuw:u.offsetWidth,submenuh:u.offsetHeight}},isContained:function(n,t){for(var t=window.event||t,i=t.relatedTarget||(t.type=="mouseover"?t.fromElement:t.toElement);i&&i!=n;)try{i=i.parentNode}catch(t){i=n}return i==n?!0:!1},addpointer:function(n,t,i,r){var u=document.createElement("img"),f;u.src=i[0];u.style.width=i[1]+"px";u.style.height=i[2]+"px";t=="rightarrowpointer"&&(u.style.left=n.offsetWidth-i[2]-2+"px");u.className=t;f=n.childNodes[n.firstChild.nodeType!=1?1:0];f&&f.tagName=="SPAN"&&(n=f);r=="before"?n.insertBefore(u,n.firstChild):n.appendChild(u)},css:function(n,t,i){var r=new RegExp("(^|\\s+)"+t+"($|\\s+)","ig");if(i=="check")return r.test(n.className);i=="remove"?n.className=n.className.replace(r,""):i!="add"||r.test(n.className)||(n.className+=" "+t)},addshimmy:function(n){var t=window.opera?document.createElement("div"):document.createElement("iframe");t.className="ddiframeshim";t.setAttribute("src",location.protocol=="https:"?this.httpsiframesrc:"about:blank");t.setAttribute("frameborder","0");n.appendChild(t);try{t.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"}catch(i){}return t},positionshim:function(n,t,i,r,u){if(n._istoplevel){var u=window.pageYOffset?window.pageYOffset:this.standardbody.scrollTop,f=n._offsets.top-u,e=u+this.docheight-n._offsets.top-n._dimensions.h;f>0&&(this.shimmy.topshim.style.left=r+"px",this.shimmy.topshim.style.top=u+"px",this.shimmy.topshim.style.width="99%",this.shimmy.topshim.style.height=f+"px");e>0&&(this.shimmy.bottomshim.style.left=r+"px",this.shimmy.bottomshim.style.top=n._offsets.top+n._dimensions.h+"px",this.shimmy.bottomshim.style.width="99%",this.shimmy.bottomshim.style.height=e+"px")}},hideshim:function(){this.shimmy.topshim.style.width=this.shimmy.bottomshim.style.width=0;this.shimmy.topshim.style.height=this.shimmy.bottomshim.style.height=0},buildmenu:function(n,t,i,r,u,f){t._master=n;t._pos=r;t._istoplevel=u;u&&this.addEvent(t,function(){ddlevelsmenu.hidemenu(ddlevelsmenu.subuls[this._master][parseInt(this._pos)].parentNode)},"click");this.subuls[n][r]=i;t._dimensions={w:t.offsetWidth,h:t.offsetHeight,submenuw:i.offsetWidth,submenuh:i.offsetHeight};this.getoffsetof(t);i.parentNode.style.left=0;i.parentNode.style.top=0;i.parentNode.style.visibility="hidden";i.style.visibility="hidden";this.addEvent(t,function(n){var i,e;if(ddlevelsmenu.ismobile||!ddlevelsmenu.isContained(this,n)){i=ddlevelsmenu.subuls[this._master][parseInt(this._pos)];this._istoplevel&&(ddlevelsmenu.css(this,"selected","add"),clearTimeout(ddlevelsmenu.hidetimers[this._master][this._pos]));ddlevelsmenu.getoffsetof(t);var u=window.pageXOffset?window.pageXOffset:ddlevelsmenu.standardbody.scrollLeft,r=window.pageYOffset?window.pageYOffset:ddlevelsmenu.standardbody.scrollTop,s=this._offsets.left+this._dimensions.submenuw+(this._istoplevel&&f=="topbar"?0:this._dimensions.w),h=this._offsets.top+this._dimensions.submenuh,o=this._istoplevel?this._offsets.left+(f=="sidebar"?this._dimensions.w:0):this._dimensions.w;s-u>ddlevelsmenu.docwidth&&(o+=-this._dimensions.submenuw+(this._istoplevel&&f=="topbar"?this._dimensions.w:-this._dimensions.w));i.parentNode.style.left=o+"px";e=this._istoplevel?this._offsets.top+(f=="sidebar"?0:this._dimensions.h):this.offsetTop;h-r>ddlevelsmenu.docheight&&(e+=this._dimensions.submenuh<this._offsets.top+(f=="sidebar"?this._dimensions.h:0)-r?-this._dimensions.submenuh+(this._istoplevel&&f=="topbar"?-this._dimensions.h:this._dimensions.h):-(this._offsets.top-r)+(this._istoplevel&&f=="topbar"?-this._dimensions.h:0));i.parentNode.style.top=e+"px";ddlevelsmenu.enableshim&&(ddlevelsmenu.effects.enableswipe==!1||ddlevelsmenu.nonFF)?ddlevelsmenu.positionshim(t,i,f,u,r):i.FFscrollInfo={x:u,y:r};ddlevelsmenu.showmenu(t,i,f);ddlevelsmenu.ismobile?(t._istoplevel||n.target.parentNode.getElementsByTagName("ul").length>0)&&(n.preventDefault(),n.stopPropagation()):(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation())}},this.ismobile?"click":"mouseover");this.addEvent(t,function(n){var t=ddlevelsmenu.subuls[this._master][parseInt(this._pos)];this._istoplevel?ddlevelsmenu.isContained(this,n)||ddlevelsmenu.isContained(t.parentNode,n)||ddlevelsmenu.hidemenu(t.parentNode):this._istoplevel||ddlevelsmenu.isContained(this,n)||ddlevelsmenu.hidemenu(t.parentNode)},"mouseout")},setopacity:function(n,t){if(n.style.opacity=t,typeof n.style.opacity!="string"){n.style.MozOpacity=t;try{n.filters&&(n.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+t*100+")")}catch(i){}}},showmenu:function(n,t,i){if(this.effects.enableswipe||this.effects.enablefade){if(this.effects.enableswipe){var r=n._istoplevel&&i=="topbar"?n._dimensions.submenuh:n._dimensions.submenuw;t.parentNode.style.width=t.parentNode.style.height=0;t.parentNode.style.overflow="hidden"}this.effects.enablefade&&(t.parentNode.style.width=t.offsetWidth+"px",t.parentNode.style.height=t.offsetHeight+"px",this.setopacity(t.parentNode,0));t._curanimatedegree=0;t.parentNode.style.visibility="visible";t.style.visibility="visible";clearInterval(t._animatetimer);t._starttime=(new Date).getTime();t._animatetimer=setInterval(function(){ddlevelsmenu.revealmenu(n,t,r,i)},10)}else t.parentNode.style.visibility="visible",t.style.visibility="visible"},revealmenu:function(n,t,i,r){var u=(new Date).getTime()-t._starttime;u<this.effects.duration?(this.effects.enableswipe&&(t._curanimatedegree==0&&(t.parentNode.style[n._istoplevel&&r=="topbar"?"width":"height"]=(n._istoplevel&&r=="topbar"?t.offsetWidth:t.offsetHeight)+"px"),t.parentNode.style[n._istoplevel&&r=="topbar"?"height":"width"]=t._curanimatedegree*i+"px",this.effects.enableslide&&(t.style[n._istoplevel&&r=="topbar"?"top":"left"]=Math.floor((t._curanimatedegree-1)*i)+"px")),this.effects.enablefade&&this.setopacity(t.parentNode,t._curanimatedegree)):(clearInterval(t._animatetimer),this.effects.enableswipe&&(t.parentNode.style.width=t.offsetWidth+"px",t.parentNode.style.height=t.offsetHeight+"px",t.parentNode.style.overflow="visible",this.effects.enableslide&&(t.style.top=0,t.style.left=0)),this.effects.enablefade&&(this.setopacity(t.parentNode,1),t.parentNode.style.filter=""),this.enableshim&&t.FFscrollInfo&&this.positionshim(n,t,r,t.FFscrollInfo.x,t.FFscrollInfo.y));t._curanimatedegree=(1-Math.cos(u/this.effects.duration*Math.PI))/2},hidemenu:function(n){typeof n._pos!="undefined"&&(this.css(this.topitems[n._master][parseInt(n._pos)],"selected","remove"),this.enableshim&&this.hideshim());clearInterval(n.firstChild._animatetimer);n.style.left=0;n.style.top="-1000px";n.style.visibility="hidden";n.firstChild.style.visibility="hidden"},addEvent:function(n,t,i){n.addEventListener?n.addEventListener(i,t,!1):n.attachEvent&&n.attachEvent("on"+i,function(){return t.call(n,window.event)})},domready:function(n){if(dd_domreadycheck){n();return}document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1);n();dd_domreadycheck=!0},!1):document.attachEvent&&document.documentElement.doScroll&&window==window.top&&function(){if(dd_domreadycheck){n();return}try{document.documentElement.doScroll("left")}catch(t){setTimeout(arguments.callee,0);return}n();dd_domreadycheck=!0}();document.attachEvent&&parent.length>0&&this.addEvent(window,function(){n()},"load")},init:function(n,t){var l,s,u,f,e,i,a,v,o,r,h,c;for(this.standardbody=document.compatMode=="CSS1Compat"?document.documentElement:document.body,this.topitemsindex=-1,this.ulindex=-1,this.topmenuids.push(n),this.topitems[n]=[],this.subuls[n]=[],this.hidetimers[n]=[],this.enableshim&&!this.shimadded&&(this.shimmy={},this.shimmy.topshim=this.addshimmy(document.body),this.shimmy.bottomshim=this.addshimmy(document.body),this.shimadded=!0),l=document.getElementById(n),s=l.getElementsByTagName("a"),this.getwindowsize(),u=0;u<s.length;u++)if(s[u].getAttribute("rel"))for(this.topitemsindex++,this.ulindex++,f=s[u],this.topitems[n][this.topitemsindex]=f,e=document.getElementById(f.getAttribute("rel")),i=document.createElement("div"),i.className="ddsubmenustyle",e.removeAttribute("class"),i.appendChild(e),document.body.appendChild(i),i.style.zIndex=2e3,i._master=n,i._pos=this.topitemsindex,this.addEvent(i,function(){ddlevelsmenu.hidemenu(this)},"click"),a=t=="sidebar"?"rightarrowpointer":"downarrowpointer",v=t=="sidebar"?this.arrowpointers.rightarrow:this.arrowpointers.downarrow,this.arrowpointers.showarrow.toplevel&&this.addpointer(f,a,v,t=="sidebar"?"before":"after"),this.buildmenu(n,f,e,this.ulindex,!0,t),i.onmouseover=function(){clearTimeout(ddlevelsmenu.hidetimers[this._master][this._pos])},this.addEvent(i,function(n){if(!ddlevelsmenu.isContained(this,n)&&!ddlevelsmenu.isContained(ddlevelsmenu.topitems[this._master][parseInt(this._pos)],n)){var t=this;ddlevelsmenu.enableshim&&ddlevelsmenu.hideshim();ddlevelsmenu.hidetimers[this._master][this._pos]=setTimeout(function(){ddlevelsmenu.hidemenu(t)},ddlevelsmenu.hideinterval)}},"mouseout"),o=e.getElementsByTagName("ul"),r=0;r<o.length;r++)this.ulindex++,h=o[r].parentNode,c=document.createElement("div"),c.appendChild(o[r]),h.appendChild(c),this.arrowpointers.showarrow.sublevel&&this.addpointer(h.getElementsByTagName("a")[0],"rightarrowpointer",this.arrowpointers.rightarrow,"before"),this.buildmenu(n,h,o[r],this.ulindex,!1,t);this.addEvent(window,function(){ddlevelsmenu.getwindowsize();ddlevelsmenu.gettopitemsdimensions()},"resize")},setup:function(n,t){this.domready(function(){ddlevelsmenu.init(n,t)})}};
//# sourceMappingURL=ddlevelsmenu.min.js.map
